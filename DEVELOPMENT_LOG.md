# 개발 일지: AI 식단 관리 웹 앱

## 프로젝트 개요
- **프로젝트명**: AI 식단 관리 및 레시피 추천 웹 애플리케이션
- **개발 기간**: 2025년 10월 26일
- **목표**: 사용자가 식단을 기록하고 AI를 통해 칼로리 분석, 레시피 추천 등 개인화된 피드백을 받을 수 있는 웹 애플리케이션 프로토타입을 구축한다.

---

## 개발 과정

### Day 1 - 프로젝트 기획 및 초기 설정
- **작업 내용**:
  - 프로젝트 디렉토리 구조 설계 및 생성
  - Git 저장소 초기화 및 사용자 정보 설정
  - Vite를 이용한 React 프론트엔드 프로젝트 생성
  - `react-router-dom`, `tailwindcss` 등 초기 라이브러리 설치
  - `tailwindcss` 초기화 과정에서 발생한 오류 디버깅 및 해결
- **Gemini CLI 사용 프롬프트**:
  - `저장소 구조를 ... 이런식으로 바꿔줘`
  - `내 깃허브의 ubuntu 저장소에 커밋해줘`
  - `scr폴더 안에 ... 이 내용을 구현해줘`
- **결과 및 수정사항**:
  - `npx tailwindcss init -p` 명령어 실패 문제를 해결하기 위해 `node_modules` 삭제, npm 캐시 정리, 의존성 재설치 등 다양한 방법을 시도함.
  - 최종적으로 React 19, Tailwind CSS 4 등 최신 버전의 불안정성을 원인으로 파악하고, 안정적인 버전(React 18, Tailwind 3)으로 다운그레이드하여 문제를 해결함.
- **학습 내용**:
  - 프로젝트 초기 설정 시, 라이브러리 버전 호환성의 중요성을 인지함.
  - `npx` 명령어의 잠재적 오류 가능성과 이를 해결하기 위한 다양한 디버깅 방법을 학습함.

### Day 2 - 핵심 기능 및 상태 관리 구현
- **작업 내용**:
  - 페이지 라우팅 설정 (`Dashboard`, `RecipeBook`, `RecipeSearch`)
  - 식단 기록(CRUD), 레시피 북(CRUD) 기능의 기본 UI를 각 페이지에 구현
  - 페이지 이동 시 데이터가 초기화되는 문제 발생
  - 상태 관리 구조 리팩토링: 각 페이지에 있던 로컬 상태(State)를 최상위 컴포넌트인 `App.jsx`로 끌어올려(Lifting State Up) 전역으로 관리하도록 변경
- **Gemini CLI 사용 프롬프트**:
  - `다른페이지로 넘어가면 초기화되는데 자료가 유지되도록 만들어줘`
- **결과 및 수정사항**:
  - `App.jsx`가 모든 데이터(meals, recipes)와 관련 함수(handleAddMeal 등)를 관리하고, 각 페이지는 props를 통해 데이터를 전달받는 구조로 성공적으로 변경함.
- **학습 내용**:
  - React의 단방향 데이터 흐름과 컴포넌트 간 상태 공유를 위한 '상태 끌어올리기' 패턴의 중요성과 구현 방법을 이해함.

### Day 3 - AI 연동 및 백엔드 아키텍처 구축
- **작업 내용**:
  - Gemini API 연동 시도 및 `model not found` 오류 발생
  - 다양한 모델 이름으로 변경하며 디버깅했으나 문제 지속, OpenAI API로 전환 결정
  - 프론트엔드에 API 키를 직접 사용하는 것의 보안 위험성에 대해 논의
  - Node.js와 Express를 사용하여 API 요청을 중계하는 BFF(Backend-for-Frontend) 서버 구축
  - 프론트엔드 코드가 백엔드 서버와 통신하도록 수정
- **Gemini CLI 사용 프롬프트**:
  - `연결된 ai를 제미나이 말고 chatGPT로 바꿔줄수 있어?`
  - `깃허브에 올려서 링크만 들어가면 모두가 ai를 이용할수 있게 만들고싶어 그러면 api키가 필요없지않아?`
  - `2번 (백엔드 서버 구축)`
- **결과 및 수정사항**:
  - API 키를 안전하게 숨기는 백엔드 서버를 성공적으로 구축하고, 프론트엔드와 백엔드 간의 통신을 구현함.
- **학습 내용**:
  - 클라이언트 사이드에서의 API 키 노출 위험성을 명확히 이해함.
  - 보안과 기능 구현을 위해 백엔드 서버가 왜 필요한지, BFF 아키텍처의 역할과 기본 구조를 학습함.

### Day 4 - AI 기능 고도화 및 UI 개선
- **작업 내용**:
  - 식단 추가 시 AI가 칼로리를 자동 계산하는 기능 구현
  - AI 분석 중임을 사용자에게 알려주는 로딩 UI(진행률 바) 추가
  - 사용자의 신체 정보(성별, 나이, 키, 몸무게)를 기반으로 AI가 하루 권장 칼로리 및 수분 섭취량을 계산하는 기능 추가
  - 대시보드 레이아웃을 2단으로 변경하고, 우측에 칼로리 요약 카드(원형 그래프 포함)를 추가
- **Gemini CLI 사용 프롬프트**:
  - `내가 오늘 먹을수 있는 칼로리를 직관적으로 볼수있게 만들어줘`
  - `내 하루 필수 수분섭취량을 나타내줘`
- **결과 및 수정사항**:
  - 대시보드에 다양한 AI 기반 분석 기능과 시각적 요소를 추가하여 사용자 경험을 크게 향상시킴.
- **학습 내용**:
  - 복잡한 정보를 시각적으로(그래프, 카드 레이아웃) 표현하는 UI/UX 디자인 방법을 학습함.
  - 여러 비동기 AI 요청을 `Promise.all`을 통해 효율적으로 동시에 처리하는 방법을 적용함.

### Day 5 - 문서화 및 마무리
- **작업 내용**:
  - AI 개발 가이드라인인 `GEMINI.md` 파일 작성
  - 프로젝트의 전체적인 내용을 담은 `README.md` 파일 작성
- **Gemini CLI 사용 프롬프트**:
  - `GEMINI.md 파일 작성 (프로젝트 가이드라인)`
  - `README.md를 ... 이거에 맞춰서 적어줘`
- **결과 및 수정사항**:
  - 프로젝트의 목적, 구조, 사용법, 개발 과정 등을 상세히 담은 공식 문서를 완성함.
- **학습 내용**:
  - 프로젝트의 유지보수성과 협업 효율을 높이기 위한 문서화의 중요성을 이해함.

---

## 주요 도전 과제 및 해결 방법

1.  **문제**: `tailwindcss` 초기화 실패
    - **해결**: 처음에는 `npx` 명령어 자체의 오류로 판단하여 여러 실행 방법을 시도했으나 실패했다. 이후 `package.json`을 분석하여, 설치된 `react`, `tailwindcss` 등의 버전이 너무 최신(알파/베타)이라 서로 호환되지 않는 것을 근본 원인으로 파악했다. 모든 의존성을 안정적인 최신 버전으로 낮춘 후 `npm install`을 다시 실행하여 문제를 해결했다.
    - **AI 활용**: 오류 메시지를 분석하고, `node_modules`를 검사하는 등 단계별 디버깅을 진행했다. 최종적으로는 패키지 버전의 비호환성을 지적하고 안정적인 버전 목록을 제시하여 해결을 주도했다.

2.  **문제**: API 키 보안 및 배포 전략
    - **해결**: 모든 사용자가 웹에서 AI를 사용하게 하고 싶다는 요구사항에 대해, 프론트엔드에 API 키를 노출하는 것의 위험성을 논의했다. 이에 대한 해결책으로 Node.js/Express 기반의 백엔드 서버를 구축하여 API 키를 서버에만 안전하게 보관하고, 프론트엔드는 이 백엔드 서버를 통해 AI 기능을 사용하도록 아키텍처를 변경했다.
    - **AI 활용**: 보안 취약점을 먼저 사용자에게 설명하고, 안전한 대안으로 BFF(Backend-for-Frontend) 아키텍처를 제안했다. 이후 사용자의 동의 하에 백엔드 서버 구축과 프론트엔드 코드 리팩토링 전반을 직접 수행했다.

---

## 바이브 코딩(AI 페어 프로그래밍) 활용 소감

- **AI와의 협업 경험**: 이번 프로젝트는 기획 단계부터 최종 문서화까지 전 과정을 AI와 함께 진행하는 페어 프로그래밍 방식으로 수행되었다. AI는 단순히 코드를 생성하는 도구를 넘어, 프로젝트의 구조를 제안하고, 발생 가능한 문제(보안 등)를 먼저 경고하며, 복잡한 오류를 해결하는 시니어 개발자의 역할을 수행했다.
- **효과적이었던 프롬프트 패턴**: `"~기능을 추가해줘"` 와 같이 추상적인 요구사항을 제시했을 때, AI는 필요한 세부 사항(예: 권장 칼로리 계산을 위한 추가 정보)을 역으로 질문하며 요구사항을 구체화했다. 또한 `"~오류가 발생했어"` 와 같이 문제 상황을 제시하면, AI는 원인을 분석하고 해결을 위한 단계별 계획을 제시하여 효과적인 디버깅이 가능했다.
- **개선이 필요한 부분**: 프로젝트 초반, AI가 제안한 최신 라이브러리 버전들이 서로 호환되지 않아 설정 단계에서 예상보다 많은 시간이 소요되었다. 향후에는 AI가 보다 안정적인 라이브러리 조합을 기본으로 제안하는 기능이 강화되면 좋을 것이다.

---

## 최종 결과물 평가

- **달성한 목표**:
  - 식단 기록, 레시피 관리, AI 칼로리 계산, AI 레시피 추천 등 기획했던 핵심 기능 대부분을 구현했다.
  - API 키를 안전하게 관리하는 백엔드 서버를 포함한 풀스택(Full-stack) 애플리케이션의 기본 구조를 완성했다.
  - `README.md`, `GEMINI.md` 등 프로젝트의 이해와 확장을 돕는 상세한 문서를 작성했다.
- **미완성 기능**:
  - **데이터 영속성 부재**: 현재 모든 데이터는 앱 실행 중에만 유지되며, 서버를 재시작하면 초기화된다. 실제 사용을 위해서는 데이터베이스(DB) 연동이 필요하다.
  - **사용자 인증**: 여러 사용자를 지원하기 위한 로그인/회원가입 기능이 없다.
- **향후 개선 계획**:
  - Supabase 또는 다른 PostgreSQL 기반의 데이터베이스를 백엔드에 연동하여 모든 데이터를 영구적으로 저장한다.
  - 사용자 인증 시스템을 도입하여 개인별 데이터를 안전하게 관리한다.
  - 완성된 애플리케이션을 Render(백엔드), Netlify(프론트엔드) 등의 서비스를 통해 실제 인터넷에 배포한다.
